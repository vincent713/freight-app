<!DOCTYPE html>
<html>
<head>
  
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VSC Freight Management System</title>
<style>

#loginPage {
    background-image: 
        linear-gradient(135deg, rgba(30,58,138,0.9), rgba(15,23,42,0.9)),
        url('/freight-app/truck-bg.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

.login-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    padding: 40px;
    border-radius: 15px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.3);
    width: 340px;
    text-align: center;
}

body {
    font-family: Arial, sans-serif;
    margin: 0;
    background: #f4f6f9;
}

.dashboard {
    display: flex;
    gap: 20px;
    margin: 20px 0;
}

.card {
    flex: 1;
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}
<h2>Revenue Overview</h2>
<canvas id="revenueChart" height="100"></canvas>

.table-container {
    overflow-x: auto;
}

@media (max-width: 768px) {
    .dashboard {
        flex-direction: column;
    }
    .card {
        width: 100%;
    }
    h1 {
        font-size: 20px;
    }
}
</style>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>

</button>

<div id="loginPage" style="display:flex; justify-content:center; align-items:center; height:100vh;">

    <div class="login-card">

        
        <h2>VSC Logistics</h2>
        <p style="color:gray; margin-bottom:25px;">Freight Management System</p>

        <input type="text" id="username" placeholder="Username"><br><br>
        <input type="password" id="password" placeholder="Password"><br><br>

        <button onclick="login()" style="width:100%;">Login</button>

        <p id="error" style="color:red; margin-top:10px;"></p>

    </div>

</div>

<div id="appPage" style="display:none;">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">


    <img src="vsc-logo.png" alt="VSC Logo" style="height:100px; margin-bottom:20px;">

    <h2>VSC Logistics</h2>
    <p style="color:gray; margin-bottom:30px;">Freight Management System</p>

   
    <p id="error" style="color:red;"></p>

</div>


    <div>
        <button onclick="toggleDarkMode()" id="themeToggle">
            üåô Dark Mode
        </button>
        <button onclick="exportToCSV()">Export to Excel</button>

        <button onclick="showChangePassword()">
            Change Password
        </button>
        <button onclick="logout()">
            Logout
        </button>
    </div>

</div>

    <div style="font-size:18px; font-weight:bold; color:#2563eb;">
    VLS LOGISTICS
</div>
        
    <input type="text" id="loadId" placeholder="Load ID">
    <input type="text" id="broker" placeholder="Broker Name">
    <input type="date" id="pickupDate">
    <input type="date" id="deliveryDate">
    <input type="number" id="rate" placeholder="Rate ($)">

    <select id="status">
        <option value="In Transit">In Transit</option>
        <option value="Delivered">Delivered</option>
        <option value="Delayed">Delayed</option>
    </select>

    <button onclick="addLoad()">Add Load</button>
    <button onclick="downloadPDF()">Download PDF</button>

    <br><br>
<div style="display:flex; gap:20px; margin:20px 0;">

    <div style="flex:1; background:#f0f8ff; padding:15px; border-radius:8px;">
        <h3>Total Loads</h3>
        <h2 id="totalLoads">0</h2>
    </div>

    <div style="flex:1; background:#e6ffe6; padding:15px; border-radius:8px;">
        <h3>Delivered Loads</h3>
        <h2 id="deliveredLoads">0</h2>
    </div>

    <div style="flex:1; background:#fff0e6; padding:15px; border-radius:8px;">
        <h3>Total Revenue</h3>
        <h2>$<span id="totalRevenue">0</span></h2>
    </div>

</div>
    <input type="text" id="searchInput" 
       placeholder="Search by Load ID or Broker..." 
       onkeyup="searchLoads()" 
       style="width:100%; padding:8px; margin-bottom:15px;">

   <div class="table-container">
<table>

        <thead>
            <tr>
                <th>Load ID</th>
                <th>Broker</th>
                <th>Pickup Date</th>
                <th>Delivery Date</th>
                <th>Rate ($)</th>
                <th>Status</th>
                <th>Action</th>



            </tr>
        </thead>
        <tbody id="loadTable"></tbody>
    </table>
    <hr style="margin-top:40px;">
<p style="text-align:center; font-size:12px; color:gray;">
    ¬© 2026 VSC Logistics. All rights reserved.
</p>

</div>

    </tbody>
</table>
</div>
 
function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    doc.text("Freight Load Report", 20, 20);
    doc.save("freight-report.pdf");
}

<script>
function showChangePassword() {
    var box = document.getElementById("changePasswordBox");
    box.style.display = box.style.display === "none" ? "block" : "none";
}

function changePassword() {
    var newPass = document.getElementById("newPassword").value;

    if(newPass.length < 4) {
        alert("Password must be at least 4 characters.");
        return;
    }

    localStorage.setItem("appPassword", newPass);
    alert("Password updated successfully!");
    document.getElementById("newPassword").value = "";
}
  var revenueChart;

function updateRevenueChart() {

    var table = document.getElementById("loadTable");
    var rows = table.querySelectorAll("tr");

    var labels = [];
    var revenueData = [];

    rows.forEach(function(row, index) {

        var cols = row.querySelectorAll("td");

        if(cols.length > 0) {

            labels.push("Load " + (index));
            revenueData.push(parseFloat(cols[4].innerText) || 0);
        }
    });

    var ctx = document.getElementById("revenueChart").getContext("2d");

    if(revenueChart) {
        revenueChart.destroy();
    }

    revenueChart = new Chart(ctx, {
        type: "bar",
        data: {
            labels: labels,
            datasets: [{
                label: "Revenue ($)",
                data: revenueData
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    display: true
                }
            }
        }
    });
}
  
function editRow(button) {
    var row = button.parentNode.parentNode;

    var loadId = row.cells[0].innerText;
    var broker = row.cells[1].innerText;
    var pickupDate = row.cells[2].innerText;
    var deliveryDate = row.cells[3].innerText;
    var rate = row.cells[4].innerText;
    var status = row.cells[5].innerText;

    document.getElementById("loadId").value = loadId;
    document.getElementById("broker").value = broker;
    document.getElementById("pickupDate").value = pickupDate;
    document.getElementById("deliveryDate").value = deliveryDate;
    document.getElementById("rate").value = rate;
    document.getElementById("status").value = status;

    deleteRow(button);
}

function searchLoads() {
    var input = document.getElementById("searchInput").value.toLowerCase();
    var table = document.getElementById("loadTable");
    var rows = table.getElementsByTagName("tr");

    for (var i = 0; i < rows.length; i++) {
        var loadId = rows[i].cells[0].innerText.toLowerCase();
        var broker = rows[i].cells[1].innerText.toLowerCase();

        if (loadId.includes(input) || broker.includes(input)) {
            rows[i].style.display = "";
        } else {
            rows[i].style.display = "none";
        }
    }
}

function applyStatusColor(cell) {
    var status = cell.innerText;

    if (status === "In Transit") {
        cell.style.backgroundColor = "#cce5ff";
        cell.style.color = "#004085";
    } 
    else if (status === "Delivered") {
        cell.style.backgroundColor = "#d4edda";
        cell.style.color = "#155724";
    } 
    else if (status === "Delayed") {
        cell.style.backgroundColor = "#f8d7da";
        cell.style.color = "#721c24";
    }
}

function updateDashboard() {
    var table = document.getElementById("loadTable");
    var total = 0;
    var delivered = 0;

    for (var i = 0; i < table.rows.length; i++) {
        var rate = parseFloat(table.rows[i].cells[4].innerText) || 0;
        var status = table.rows[i].cells[5].innerText;

        total += rate;

        if (status === "Delivered") {
            delivered++;
        }
    }

    document.getElementById("totalLoads").innerText = table.rows.length;
    document.getElementById("deliveredLoads").innerText = delivered;
    document.getElementById("totalRevenue").innerText = total.toFixed(2);
}

function updateTotalRevenue() {
    var table = document.getElementById("loadTable");
    var total = 0;

    for (var i = 0; i < table.rows.length; i++) {
        var rate = parseFloat(table.rows[i].cells[3].innerText) || 0;
        total += rate;
    }

    document.getElementById("totalRevenue").innerText = total.toFixed(2);
}

function login() {

    var user = document.getElementById("username").value;
    var pass = document.getElementById("password").value;

    var savedPassword = localStorage.getItem("appPassword") || "1234";

    if(user === "admin" && pass === savedPassword) {

        localStorage.setItem("isLoggedIn", "true");

        document.getElementById("loginPage").style.display = "none";
        document.getElementById("appPage").style.display = "block";

    } else {
        document.getElementById("error").innerText = "Invalid login!";
    }
}

window.onload = function() {

    // ‚úÖ Check login session first
    if(localStorage.getItem("isLoggedIn") === "true") {
        document.getElementById("loginPage").style.display = "none";
        document.getElementById("appPage").style.display = "block";
    } else {
        document.getElementById("loginPage").style.display = "block";
        document.getElementById("appPage").style.display = "none";
    }
updateRevenueChart();

    // ‚úÖ Load saved loads
    let savedLoads = JSON.parse(localStorage.getItem("loads")) || [];

    savedLoads.forEach(load =>
        addLoadToTable(
            load.loadId,
            load.broker,
            load.pickupDate,
            load.deliveryDate,
            load.rate,
            load.status
        )
    );

    updateDashboard();

    // ‚úÖ Load saved theme
    var savedTheme = localStorage.getItem("theme");

    if (savedTheme === "dark") {
        document.documentElement.classList.add("dark");
        var button = document.getElementById("themeToggle");
        if(button){
            button.innerText = "‚òÄÔ∏è Light Mode";
        }
    }

};



function addLoad() {
    var loadId = document.getElementById("loadId").value;
    var broker = document.getElementById("broker").value;
    var status = document.getElementById("status").value;
    var pickupDate = document.getElementById("pickupDate").value;
    var deliveryDate = document.getElementById("deliveryDate").value;
    var rate = document.getElementById("rate").value;

    if(loadId === "" || broker === "") {
        alert("Please fill all fields!");
        return;
    }
updateRevenueChart();

    addLoadToTable(loadId, broker, pickupDate, deliveryDate, rate, status);
    saveLoad(loadId, broker, pickupDate, deliveryDate, rate, status);

    document.getElementById("loadId").value = "";
    document.getElementById("broker").value = "";
}

function addLoadToTable(loadId, broker, pickupDate, deliveryDate, rate, status) {
    var table = document.getElementById("loadTable");
    var row = table.insertRow();

    row.insertCell(0).innerHTML = loadId;
    row.insertCell(1).innerHTML = broker;
    row.insertCell(2).innerHTML = pickupDate;
    row.insertCell(3).innerHTML = deliveryDate;
    row.insertCell(4).innerHTML = rate;
    var statusCell = row.insertCell(5);
    statusCell.innerHTML = status;
    applyStatusColor(statusCell);


   var actionCell = row.insertCell(6);
actionCell.innerHTML = `
    <button onclick='editRow(this)'>Edit</button>
    <button onclick='deleteRow(this)'>Delete</button>
`;


    updateDashboard();

}



function saveLoad(loadId, broker, pickupDate, deliveryDate, rate, status) {
    let savedLoads = JSON.parse(localStorage.getItem("loads")) || [];
    savedLoads.push({ loadId, broker, pickupDate, deliveryDate, rate, status });
    localStorage.setItem("loads", JSON.stringify(savedLoads));
}



function deleteRow(button) {
    var row = button.parentNode.parentNode;
    var loadId = row.cells[0].innerText;

    row.parentNode.removeChild(row);

    let savedLoads = JSON.parse(localStorage.getItem("loads")) || [];
    savedLoads = savedLoads.filter(load => load.loadId !== loadId);
    localStorage.setItem("loads", JSON.stringify(savedLoads));
    updateDashboard();


}
updateRevenueChart();

function logout() {
    localStorage.removeItem("isLoggedIn");

    document.getElementById("loginPage").style.display = "block";
    document.getElementById("appPage").style.display = "none";
}


function downloadPDF() {
    var table = document.getElementById("loadTable");

    if (table.rows.length === 0) {
        alert("No loads to export.");
        return;
    }

    var content = "<h1>Freight Load Report</h1>";
    content += "<table border='1' style='border-collapse:collapse; width:100%;'>";
    content += "<tr><th>Load ID</th><th>Broker</th><th>Pickup Date</th><th>Delivery Date</th><th>Rate ($)</th><th>Status</th></tr>";

    for (var i = 0; i < table.rows.length; i++) {
        var row = table.rows[i];
        content += "<tr>";
        content += "<td>" + row.cells[0].innerText + "</td>";
        content += "<td>" + row.cells[1].innerText + "</td>";
        content += "<td>" + row.cells[2].innerText + "</td>";
        content += "<td>" + row.cells[3].innerText + "</td>";
        content += "<td>" + row.cells[4].innerText + "</td>";
        content += "<td>" + row.cells[5].innerText + "</td>";

        content += "</tr>";
    }

    content += "</table>";

    var printWindow = window.open("", "", "width=800,height=600");
    printWindow.document.write(content);
    printWindow.document.close();
    printWindow.print();
}
function toggleDarkMode() {
    document.documentElement.classList.toggle("dark");

    var button = document.getElementById("themeToggle");

    if (document.documentElement.classList.contains("dark")) {
        button.innerText = "‚òÄÔ∏è Light Mode";
        localStorage.setItem("theme", "dark");
    } else {
        button.innerText = "üåô Dark Mode";
        localStorage.setItem("theme", "light");
    }
}

function exportToCSV() {

    var table = document.getElementById("loadTable");
    var rows = table.querySelectorAll("tr");

    var csv = [];

    // Header row
    csv.push(["Load ID", "Broker", "Pickup Date", "Delivery Date", "Rate", "Status"].join(","));

    rows.forEach(function(row) {

        var cols = row.querySelectorAll("td");

        if(cols.length > 0) {

            var rowData = [
                cols[0].innerText,
                cols[1].innerText,
                cols[2].innerText,
                cols[3].innerText,
                cols[4].innerText,
                cols[5].innerText
            ];

            csv.push(rowData.join(","));
        }
    });

    var csvFile = new Blob([csv.join("\n")], { type: "text/csv" });

    var downloadLink = document.createElement("a");
    downloadLink.download = "VSC_Load_Report.csv";
    downloadLink.href = window.URL.createObjectURL(csvFile);
    downloadLink.style.display = "none";

    document.body.appendChild(downloadLink);
    downloadLink.click();
}

</script>


</body>
</html>





































